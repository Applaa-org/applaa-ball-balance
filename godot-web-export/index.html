<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Ball Balance</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: Arial, sans-serif;
            background: #1a1a2e;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }
        
        #gameContainer {
            position: relative;
            width: 800px;
            height: 600px;
            max-width: 100vw;
            max-height: 100vh;
        }
        
        #gameCanvas {
            width: 100%;
            height: 100%;
            background: #0a0a1a;
            border-radius: 8px;
            display: block;
        }
        
        .overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 10, 30, 0.95);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border-radius: 8px;
            z-index: 100;
        }
        
        .overlay.hidden {
            display: none !important;
        }
        
        .title {
            font-size: 48px;
            color: #00d4ff;
            margin-bottom: 10px;
            text-shadow: 0 0 20px rgba(0, 212, 255, 0.5);
        }
        
        .subtitle {
            font-size: 18px;
            color: #888;
            margin-bottom: 30px;
        }
        
        .high-score-box {
            background: rgba(0, 100, 150, 0.3);
            border: 2px solid #00d4ff;
            border-radius: 10px;
            padding: 15px 30px;
            margin-bottom: 25px;
            text-align: center;
        }
        
        .high-score-box label {
            color: #00d4ff;
            font-size: 14px;
            display: block;
            margin-bottom: 5px;
        }
        
        .high-score-box .score {
            color: #ffd700;
            font-size: 32px;
            font-weight: bold;
        }
        
        .instructions {
            color: #aaa;
            font-size: 14px;
            text-align: center;
            margin-bottom: 20px;
            line-height: 1.6;
        }
        
        .name-input {
            margin-bottom: 20px;
            text-align: center;
        }
        
        .name-input label {
            color: #aaa;
            display: block;
            margin-bottom: 8px;
        }
        
        .name-input input {
            padding: 10px 20px;
            font-size: 16px;
            border: 2px solid #00d4ff;
            border-radius: 8px;
            background: rgba(0, 0, 0, 0.5);
            color: #fff;
            text-align: center;
            width: 200px;
            outline: none;
        }
        
        .btn {
            padding: 15px 50px;
            font-size: 20px;
            font-weight: bold;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            margin: 5px;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .btn:hover {
            transform: scale(1.05);
        }
        
        .btn:active {
            transform: scale(0.98);
        }
        
        .btn-start {
            background: linear-gradient(135deg, #00d4ff, #0099cc);
            color: #000;
        }
        
        .btn-start:hover {
            box-shadow: 0 0 30px rgba(0, 212, 255, 0.6);
        }
        
        .btn-menu {
            background: rgba(100, 100, 100, 0.5);
            color: #fff;
            border: 2px solid #666;
        }
        
        .btn-close {
            background: transparent;
            color: #ff6666;
            border: 2px solid #ff6666;
            padding: 10px 30px;
            font-size: 14px;
            margin-top: 20px;
        }
        
        .leaderboard {
            margin-top: 20px;
            max-width: 280px;
            text-align: center;
        }
        
        .leaderboard h4 {
            color: #ffd700;
            margin-bottom: 10px;
        }
        
        .leaderboard-item {
            display: flex;
            justify-content: space-between;
            padding: 5px 10px;
            color: #ccc;
            font-size: 14px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        .leaderboard-item .name { flex: 1; text-align: left; }
        .leaderboard-item .score { color: #00d4ff; }
        
        #hud {
            position: absolute;
            top: 10px;
            left: 10px;
            right: 10px;
            display: flex;
            justify-content: space-between;
            z-index: 50;
            pointer-events: none;
        }
        
        #hud.hidden { display: none; }
        
        .hud-box {
            background: rgba(0, 0, 0, 0.7);
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 18px;
            font-weight: bold;
        }
        
        .hud-time { color: #00d4ff; }
        .hud-best { color: #ffd700; }
        
        #mobileControls {
            position: absolute;
            bottom: 20px;
            left: 20px;
            right: 20px;
            display: none;
            justify-content: space-between;
            z-index: 50;
        }
        
        .mobile-btn {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: rgba(0, 212, 255, 0.3);
            border: 3px solid rgba(0, 212, 255, 0.6);
            color: #00d4ff;
            font-size: 30px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            user-select: none;
        }
        
        .mobile-btn:active {
            background: rgba(0, 212, 255, 0.6);
        }
        
        .final-score {
            font-size: 60px;
            color: #00d4ff;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .new-record {
            color: #ffd700;
            font-size: 24px;
            margin-bottom: 15px;
            animation: pulse 0.5s ease infinite alternate;
        }
        
        @keyframes pulse {
            from { opacity: 0.7; transform: scale(1); }
            to { opacity: 1; transform: scale(1.1); }
        }
        
        .btn-row {
            display: flex;
            gap: 15px;
            margin-bottom: 10px;
        }
        
        @media (max-width: 600px) {
            .title { font-size: 32px; }
            .btn { padding: 12px 35px; font-size: 16px; }
            #mobileControls { display: flex; }
            .final-score { font-size: 40px; }
        }
    </style>
</head>
<body>
    <div id="gameContainer">
        <canvas id="gameCanvas" width="800" height="600"></canvas>
        
        <!-- HUD -->
        <div id="hud" class="hidden">
            <div class="hud-box hud-time">‚è±Ô∏è <span id="timeDisplay">0.0</span>s</div>
            <div class="hud-box hud-best">üèÜ Best: <span id="hudBest">0.0</span>s</div>
        </div>
        
        <!-- Mobile Controls -->
        <div id="mobileControls">
            <div class="mobile-btn" id="btnLeft">‚óÄ</div>
            <div class="mobile-btn" id="btnRight">‚ñ∂</div>
        </div>
        
        <!-- Start Screen -->
        <div id="startScreen" class="overlay">
            <div class="title">üé± Ball Balance</div>
            <div class="subtitle">Keep the ball on the platform!</div>
            
            <div class="high-score-box">
                <label>üèÜ HIGH SCORE</label>
                <div class="score" id="menuHighScore">0.0s</div>
            </div>
            
            <div class="instructions">
                <strong>How to Play:</strong><br>
                Use ‚Üê ‚Üí Arrow Keys or A/D to tilt the platform<br>
                Keep the ball balanced as long as possible!
            </div>
            
            <div class="name-input">
                <label>Your Name:</label>
                <input type="text" id="playerNameInput" placeholder="Player" maxlength="12">
            </div>
            
            <button class="btn btn-start" id="btnStart">‚ñ∂ START GAME</button>
            
            <div class="leaderboard" id="menuLeaderboard"></div>
            
            <button class="btn btn-close" id="btnClose1">‚úï Close</button>
        </div>
        
        <!-- Game Over Screen -->
        <div id="gameOverScreen" class="overlay hidden">
            <div class="title">üí• Game Over!</div>
            <div class="new-record" id="newRecordText" style="display:none;">üéâ NEW HIGH SCORE! üéâ</div>
            
            <div class="final-score" id="finalScoreDisplay">0.0s</div>
            
            <div class="high-score-box">
                <label>üèÜ HIGH SCORE</label>
                <div class="score" id="overHighScore">0.0s</div>
            </div>
            
            <div class="btn-row">
                <button class="btn btn-start" id="btnRestart">üîÑ Play Again</button>
                <button class="btn btn-menu" id="btnMenu">üìã Menu</button>
            </div>
            
            <div class="leaderboard" id="overLeaderboard"></div>
            
            <button class="btn btn-close" id="btnClose2">‚úï Close</button>
        </div>
    </div>

    <script>
        // ========================================
        // BALL BALANCE GAME - SELF-CONTAINED
        // ========================================
        
        (function() {
            // Canvas setup
            var canvas = document.getElementById('gameCanvas');
            var ctx = canvas.getContext('2d');
            
            // DOM Elements
            var startScreen = document.getElementById('startScreen');
            var gameOverScreen = document.getElementById('gameOverScreen');
            var hud = document.getElementById('hud');
            var timeDisplay = document.getElementById('timeDisplay');
            var hudBest = document.getElementById('hudBest');
            var menuHighScore = document.getElementById('menuHighScore');
            var overHighScore = document.getElementById('overHighScore');
            var finalScoreDisplay = document.getElementById('finalScoreDisplay');
            var newRecordText = document.getElementById('newRecordText');
            var playerNameInput = document.getElementById('playerNameInput');
            var menuLeaderboard = document.getElementById('menuLeaderboard');
            var overLeaderboard = document.getElementById('overLeaderboard');
            
            // Game State
            var isPlaying = false;
            var gameTime = 0;
            var lastTimestamp = 0;
            var animationId = null;
            
            // Player Data
            var playerName = 'Player';
            var highScore = 0;
            var scores = [];
            
            // Physics
            var gravity = 900;
            var friction = 0.985;
            var maxTilt = 0.4;
            var tiltSpeed = 3;
            
            // Ball
            var ball = {
                x: 400,
                y: 250,
                vx: 0,
                vy: 0,
                radius: 20
            };
            
            // Platform
            var platform = {
                x: 400,
                y: 350,
                width: 250,
                height: 14,
                angle: 0,
                targetAngle: 0
            };
            
            // Input
            var keys = {
                left: false,
                right: false
            };
            
            // Storage key
            var STORAGE_KEY = 'ball-balance-save';
            
            // ========================================
            // STORAGE FUNCTIONS
            // ========================================
            
            function saveToStorage() {
                try {
                    var data = {
                        highScore: highScore,
                        scores: scores,
                        playerName: playerName
                    };
                    localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
                    console.log('Saved to localStorage:', data);
                } catch (e) {
                    console.error('Save failed:', e);
                }
                
                // Applaa API
                try {
                    window.parent.postMessage({
                        type: 'applaa-game-save-score',
                        gameId: 'ball-balance',
                        playerName: playerName,
                        score: highScore
                    }, '*');
                } catch (e) {}
            }
            
            function loadFromStorage() {
                // Initialize to 0
                highScore = 0;
                scores = [];
                playerName = 'Player';
                
                try {
                    var saved = localStorage.getItem(STORAGE_KEY);
                    if (saved) {
                        var data = JSON.parse(saved);
                        highScore = data.highScore || 0;
                        scores = data.scores || [];
                        playerName = data.playerName || 'Player';
                        playerNameInput.value = playerName;
                        console.log('Loaded from localStorage:', data);
                    }
                } catch (e) {
                    console.error('Load failed:', e);
                }
                
                updateHighScoreDisplays();
                updateLeaderboards();
                
                // Applaa API
                try {
                    window.parent.postMessage({
                        type: 'applaa-game-load-data',
                        gameId: 'ball-balance'
                    }, '*');
                } catch (e) {}
            }
            
            function addNewScore(name, score) {
                score = Math.round(score * 10) / 10;
                
                scores.push({
                    name: name,
                    score: score,
                    date: Date.now()
                });
                
                scores.sort(function(a, b) { return b.score - a.score; });
                scores = scores.slice(0, 10);
                
                if (score > highScore) {
                    highScore = score;
                }
                
                playerName = name;
                saveToStorage();
                updateHighScoreDisplays();
                updateLeaderboards();
            }
            
            function updateHighScoreDisplays() {
                var text = highScore.toFixed(1) + 's';
                menuHighScore.textContent = text;
                hudBest.textContent = highScore.toFixed(1);
                overHighScore.textContent = text;
            }
            
            function updateLeaderboards() {
                var html = '<h4>üèÜ Top Scores</h4>';
                
                if (scores.length === 0) {
                    html += '<p style="color:#666;">No scores yet!</p>';
                } else {
                    for (var i = 0; i < Math.min(5, scores.length); i++) {
                        var s = scores[i];
                        html += '<div class="leaderboard-item">';
                        html += '<span>' + (i + 1) + '. </span>';
                        html += '<span class="name">' + s.name + '</span>';
                        html += '<span class="score">' + s.score.toFixed(1) + 's</span>';
                        html += '</div>';
                    }
                }
                
                menuLeaderboard.innerHTML = html;
                overLeaderboard.innerHTML = html;
            }
            
            // Applaa message handler
            window.addEventListener('message', function(e) {
                if (e.data && e.data.type === 'applaa-game-data-loaded' && e.data.data) {
                    var d = e.data.data;
                    if (d.highScore && d.highScore > highScore) {
                        highScore = d.highScore;
                    }
                    if (d.lastPlayerName) {
                        playerName = d.lastPlayerName;
                        playerNameInput.value = playerName;
                    }
                    updateHighScoreDisplays();
                }
            });
            
            // ========================================
            // GAME FUNCTIONS
            // ========================================
            
            function resizeCanvas() {
                var container = document.getElementById('gameContainer');
                var w = container.clientWidth;
                var h = container.clientHeight;
                canvas.width = w;
                canvas.height = h;
                
                platform.x = w / 2;
                platform.y = h * 0.55;
                platform.width = Math.min(280, w * 0.4);
                ball.radius = Math.min(22, w / 35);
            }
            
            function resetGame() {
                resizeCanvas();
                
                ball.x = platform.x;
                ball.y = platform.y - platform.height / 2 - ball.radius - 10;
                ball.vx = 0;
                ball.vy = 0;
                
                platform.angle = 0;
                platform.targetAngle = 0;
                
                gameTime = 0;
                timeDisplay.textContent = '0.0';
            }
            
            function startGame() {
                console.log('Starting game...');
                
                playerName = playerNameInput.value.trim() || 'Player';
                
                // Hide screens, show HUD
                startScreen.classList.add('hidden');
                gameOverScreen.classList.add('hidden');
                hud.classList.remove('hidden');
                
                resetGame();
                
                isPlaying = true;
                lastTimestamp = performance.now();
                
                // Start game loop
                if (animationId) {
                    cancelAnimationFrame(animationId);
                }
                animationId = requestAnimationFrame(gameLoop);
                
                console.log('Game started!');
            }
            
            function endGame() {
                console.log('Game ended. Time:', gameTime);
                
                isPlaying = false;
                
                if (animationId) {
                    cancelAnimationFrame(animationId);
                    animationId = null;
                }
                
                var finalTime = Math.round(gameTime * 10) / 10;
                finalScoreDisplay.textContent = finalTime.toFixed(1) + 's';
                
                // Check for new record
                var isNewRecord = finalTime > highScore;
                newRecordText.style.display = isNewRecord ? 'block' : 'none';
                
                // Save score
                addNewScore(playerName, finalTime);
                
                // Show game over screen
                hud.classList.add('hidden');
                gameOverScreen.classList.remove('hidden');
            }
            
            function showMenu() {
                isPlaying = false;
                if (animationId) {
                    cancelAnimationFrame(animationId);
                    animationId = null;
                }
                
                gameOverScreen.classList.add('hidden');
                hud.classList.add('hidden');
                startScreen.classList.remove('hidden');
            }
            
            function closeGame() {
                try {
                    window.parent.postMessage({ type: 'applaa-close-game' }, '*');
                } catch (e) {
                    window.close();
                }
            }
            
            // ========================================
            // GAME LOOP
            // ========================================
            
            function gameLoop(timestamp) {
                if (!isPlaying) return;
                
                var dt = Math.min((timestamp - lastTimestamp) / 1000, 0.05);
                lastTimestamp = timestamp;
                
                update(dt);
                render();
                
                animationId = requestAnimationFrame(gameLoop);
            }
            
            function update(dt) {
                // Update time
                gameTime += dt;
                timeDisplay.textContent = gameTime.toFixed(1);
                
                // Platform tilt
                if (keys.left && !keys.right) {
                    platform.targetAngle = -maxTilt;
                } else if (keys.right && !keys.left) {
                    platform.targetAngle = maxTilt;
                } else {
                    platform.targetAngle = 0;
                }
                
                var angleDiff = platform.targetAngle - platform.angle;
                platform.angle += angleDiff * tiltSpeed * dt * 5;
                
                // Ball physics
                ball.vy += gravity * dt;
                ball.vx += Math.sin(platform.angle) * gravity * 1.6 * dt;
                ball.vx *= friction;
                
                ball.x += ball.vx * dt;
                ball.y += ball.vy * dt;
                
                // Platform collision
                checkCollision();
                
                // Check if ball fell
                if (ball.y > canvas.height + ball.radius * 2) {
                    endGame();
                }
            }
            
            function checkCollision() {
                var cos = Math.cos(platform.angle);
                var sin = Math.sin(platform.angle);
                var hw = platform.width / 2;
                
                // Platform endpoints
                var lx = platform.x - hw * cos;
                var ly = platform.y - hw * sin;
                var rx = platform.x + hw * cos;
                var ry = platform.y + hw * sin;
                
                // Direction along platform
                var dx = rx - lx;
                var dy = ry - ly;
                var len = Math.sqrt(dx * dx + dy * dy);
                var nx = dx / len;
                var ny = dy / len;
                
                // Ball to platform left point
                var bx = ball.x - lx;
                var by = ball.y - ly;
                
                // Project onto platform
                var proj = bx * nx + by * ny;
                proj = Math.max(0, Math.min(len, proj));
                
                // Closest point
                var cx = lx + nx * proj;
                var cy = ly + ny * proj;
                
                // Distance
                var distX = ball.x - cx;
                var distY = ball.y - cy;
                var dist = Math.sqrt(distX * distX + distY * distY);
                
                // Normal (perpendicular up)
                var normX = sin;
                var normY = -cos;
                
                // Check if above
                var above = (ball.x - platform.x) * normX + (ball.y - platform.y) * normY < 0;
                
                var colDist = ball.radius + platform.height / 2;
                
                if (dist < colDist && above && proj >= -5 && proj <= len + 5) {
                    // Push out
                    if (dist > 0.001) {
                        var overlap = colDist - dist;
                        ball.x += (distX / dist) * overlap;
                        ball.y += (distY / dist) * overlap;
                    }
                    
                    // Reflect velocity
                    var vdot = ball.vx * (-normX) + ball.vy * (-normY);
                    if (vdot > 0) {
                        ball.vx += normX * vdot * 1.2;
                        ball.vy += normY * vdot * 1.2;
                    }
                    
                    ball.vy *= 0.7;
                }
            }
            
            // ========================================
            // RENDER
            // ========================================
            
            function render() {
                // Background
                ctx.fillStyle = '#0a0a1a';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                // Stars
                ctx.fillStyle = 'rgba(255,255,255,0.3)';
                for (var i = 0; i < 50; i++) {
                    var sx = (i * 73 + 17) % canvas.width;
                    var sy = (i * 47 + 23) % canvas.height;
                    ctx.beginPath();
                    ctx.arc(sx, sy, 1, 0, Math.PI * 2);
                    ctx.fill();
                }
                
                // Platform shadow
                ctx.save();
                ctx.translate(platform.x + 4, platform.y + 6);
                ctx.rotate(platform.angle);
                ctx.fillStyle = 'rgba(0,0,0,0.3)';
                ctx.fillRect(-platform.width / 2, -platform.height / 2, platform.width, platform.height);
                ctx.restore();
                
                // Platform
                ctx.save();
                ctx.translate(platform.x, platform.y);
                ctx.rotate(platform.angle);
                
                var pGrad = ctx.createLinearGradient(0, -platform.height / 2, 0, platform.height / 2);
                pGrad.addColorStop(0, '#5ab0e8');
                pGrad.addColorStop(0.5, '#3498db');
                pGrad.addColorStop(1, '#1a5276');
                ctx.fillStyle = pGrad;
                
                ctx.beginPath();
                ctx.roundRect(-platform.width / 2, -platform.height / 2, platform.width, platform.height, 5);
                ctx.fill();
                
                ctx.strokeStyle = 'rgba(100,180,255,0.5)';
                ctx.lineWidth = 2;
                ctx.stroke();
                ctx.restore();
                
                // Ball shadow
                ctx.beginPath();
                ctx.ellipse(ball.x + 3, ball.y + 6, ball.radius * 0.8, ball.radius * 0.3, 0, 0, Math.PI * 2);
                ctx.fillStyle = 'rgba(0,0,0,0.3)';
                ctx.fill();
                
                // Ball
                var bGrad = ctx.createRadialGradient(
                    ball.x - ball.radius * 0.3, ball.y - ball.radius * 0.3, 0,
                    ball.x, ball.y, ball.radius
                );
                bGrad.addColorStop(0, '#ff7070');
                bGrad.addColorStop(0.3, '#ee4444');
                bGrad.addColorStop(1, '#aa2020');
                
                ctx.beginPath();
                ctx.arc(ball.x, ball.y, ball.radius, 0, Math.PI * 2);
                ctx.fillStyle = bGrad;
                ctx.fill();
                
                // Ball highlight
                ctx.beginPath();
                ctx.arc(ball.x - ball.radius * 0.3, ball.y - ball.radius * 0.35, ball.radius * 0.2, 0, Math.PI * 2);
                ctx.fillStyle = 'rgba(255,255,255,0.4)';
                ctx.fill();
            }
            
            // ========================================
            // INPUT HANDLERS
            // ========================================
            
            document.addEventListener('keydown', function(e) {
                if (e.key === 'ArrowLeft' || e.key === 'a' || e.key === 'A') {
                    keys.left = true;
                    e.preventDefault();
                }
                if (e.key === 'ArrowRight' || e.key === 'd' || e.key === 'D') {
                    keys.right = true;
                    e.preventDefault();
                }
                if (e.key === 'Enter' && !isPlaying && !startScreen.classList.contains('hidden')) {
                    startGame();
                }
            });
            
            document.addEventListener('keyup', function(e) {
                if (e.key === 'ArrowLeft' || e.key === 'a' || e.key === 'A') {
                    keys.left = false;
                }
                if (e.key === 'ArrowRight' || e.key === 'd' || e.key === 'D') {
                    keys.right = false;
                }
            });
            
            // Mobile buttons
            var btnLeft = document.getElementById('btnLeft');
            var btnRight = document.getElementById('btnRight');
            
            btnLeft.addEventListener('touchstart', function(e) { e.preventDefault(); keys.left = true; }, {passive: false});
            btnLeft.addEventListener('touchend', function(e) { e.preventDefault(); keys.left = false; }, {passive: false});
            btnLeft.addEventListener('mousedown', function() { keys.left = true; });
            btnLeft.addEventListener('mouseup', function() { keys.left = false; });
            btnLeft.addEventListener('mouseleave', function() { keys.left = false; });
            
            btnRight.addEventListener('touchstart', function(e) { e.preventDefault(); keys.right = true; }, {passive: false});
            btnRight.addEventListener('touchend', function(e) { e.preventDefault(); keys.right = false; }, {passive: false});
            btnRight.addEventListener('mousedown', function() { keys.right = true; });
            btnRight.addEventListener('mouseup', function() { keys.right = false; });
            btnRight.addEventListener('mouseleave', function() { keys.right = false; });
            
            // ========================================
            // BUTTON HANDLERS
            // ========================================
            
            document.getElementById('btnStart').addEventListener('click', function(e) {
                e.preventDefault();
                console.log('Start button clicked');
                startGame();
            });
            
            document.getElementById('btnRestart').addEventListener('click', function(e) {
                e.preventDefault();
                console.log('Restart button clicked');
                startGame();
            });
            
            document.getElementById('btnMenu').addEventListener('click', function(e) {
                e.preventDefault();
                showMenu();
            });
            
            document.getElementById('btnClose1').addEventListener('click', function(e) {
                e.preventDefault();
                closeGame();
            });
            
            document.getElementById('btnClose2').addEventListener('click', function(e) {
                e.preventDefault();
                closeGame();
            });
            
            // ========================================
            // WINDOW EVENTS
            // ========================================
            
            window.addEventListener('resize', function() {
                resizeCanvas();
                if (!isPlaying) {
                    render();
                }
            });
            
            // ========================================
            // INITIALIZATION
            // ========================================
            
            console.log('Ball Balance initializing...');
            
            // Load saved data
            loadFromStorage();
            
            // Initial canvas setup
            resizeCanvas();
            
            // Initial render
            render();
            
            console.log('Ball Balance ready! Click START GAME to play.');
            
        })();
    </script>
</body>
</html>